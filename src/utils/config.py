import os

# プロジェクトのルートディレクトリを取得
# このconfig.pyファイルは src/utils/ にあるので、3階層上がる
BASE_DIR = os.path.dirname(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

# ファイルパス設定 (ローカル開発用)
# サーバーパスはコメントアウトしておく
# SERVER_PATHS = {
#     'ZP02': r'\\\\SAPIF01\\host\\ZP02\\ZP02.TXT',
#     'ZP51N': r'\\\\SAPIF01\\host\\ZP51N\\ZP51N.TXT'
# }

LOCAL_DATA_PATHS = {
    'ZP02': os.path.join(BASE_DIR, 'data', 'zp02.txt'),
    'ZP51N': os.path.join(BASE_DIR, 'data', 'ZP51N.TXT')
}


# データベース設定
DATABASE_PATH = os.path.join(BASE_DIR, 'data', 'production.db')

# UI設定
UI_CONFIG = {
    'title': '🏭 生産計画管理システム',
    'page_size': 100,
    'date_format': 'YYYY-MM-DD' # Streamlitの標準に合わせてハイフン区切りに変更
}

# エンコーディング設定
ENCODING = {
    'input': 'cp932',  # Shift-JISのスーパーセットであるcp932を試す
    'output': 'utf-8'
}

# データカラム定義（読み込み時に使用）
# CSV/TXTファイルにヘッダーがないため、ここで定義
# 要件定義書v2.0の出力フィールド仕様と旧要件定義書のカラムリストを参考

ZP02_COLUMNS = [
    'MRP管理者', 'MRP管理者グループ', 'MRP管理者名', '製造年', '製造月', '指図番号', '指図タイ', '登録日',
    '指図ステータス', '受注伝票番号', '受注伝票明細', '品目コード', '品目テキスト', '台数', '製造区分', '製造区分名称',
    '件名', 'ＷＢＳ要素', '完成残数', '保管場所', '担当', 'メモ', '出図予定日', '出図実績日', '製造着手日',
    '先手配実績', '入検予定日', '立会予定日', '出庫日付', '要求日', '回答日', '製造№', '金額', '計画終了',
    '計画開始', '発行日', 'CRTD日付', 'REL日付', 'PCNF日付', 'CNF日付', 'DLV日付', 'TECO日付', '完成数',
    '実績開始日', '実績終了日', '<生産管理へ>備考', '品目タイプ'
]

ZP51N_COLUMNS = [
    '連番1', '連番2', '連番3', '所要区分', '親指図番号', '割当(WBS)', '受注伝票', '入出庫番号',
    '入庫保管場所', '親品目コード', '親品目テキスト', '原価センタテキスト', '出荷伝票', '出庫数量', '親MRP管理者',
    '親指図計画開始日', '親指図計画終了日', 'BOM明細番号', '子指図番号', '子品目コード', '子品目テキスト',
    '所要日', '所要残数', '在庫数', '在庫引当', '所要引当残数', '子MRP管理者', '購買発注番号',
    '子指図計画開始日', '子指図計画終了日', '計画数量', '計画引当', '計画引当残数', '作業区４', '作業区５',
    '払出完了', '進捗', '工程(子)', 'C', 'A', 'C,A以外', '作業0020時間(分)', '作業0030時間(分)',
    '作業0040時間(分)', '作業0050時間(分)', '作業0060時間(分)', '検査', '標準原価', '指図テキスト'
]
